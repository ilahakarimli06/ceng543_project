# FAISS Benchmark Configuration - Full Grid
# Tests all index types with multiple embedding models

method: faiss_benchmark
dataset_path: src/data/cleaned/cleaned_extra_long_examples_arxiv.jsonl
samples: 60
seed: 42

# Chunking configuration
chunk_size: 1024
overlap: 0
segmentation_method: fixed

# Retrieval configuration
top_k: 10
ground_truth_top_n: 5
query_strategy: first_tokens

# Embedding models to compare
embedding_models:
  - sentence-transformers/all-MiniLM-L6-v2
  - BAAI/bge-base-en-v1.5

# Summarization model (best performer)
summarization_model: google/bigbird-pegasus-large-arxiv
gen_max_tokens: 512

# Index configurations to test
index_configs:
  # Baseline: Exact search
  - type: flat
  
  # IVF: nlist variations
  - type: ivf
    nlist: 1024
    nprobe: 8
  - type: ivf
    nlist: 4096
    nprobe: 8
    
  # IVF-PQ 8-bit: M variations
  - type: ivf_pq
    nlist: 1024
    M: 48
    nbits: 8
    nprobe: 8
  - type: ivf_pq
    nlist: 1024
    M: 96
    nbits: 8
    nprobe: 8
    
  # IVF-PQ 4-bit: M variations  
  - type: ivf_pq
    nlist: 1024
    M: 48
    nbits: 4
    nprobe: 8
  - type: ivf_pq
    nlist: 1024
    M: 96
    nbits: 4
    nprobe: 8

# nprobe values to test (for IVF-based indices)
nprobe_values:
  - 4
  - 8
  - 16

# Output configuration
out_dir: results/faiss_benchmark
cache_dir: cache/faiss_benchmark
