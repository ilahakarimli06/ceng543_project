{
  "config": {
    "method": "colbert_benchmark",
    "dataset_path": "src/data/cleaned/cleaned_extra_long_examples_longform.jsonl",
    "samples": 17,
    "seed": 42,
    "chunk_size": 384,
    "overlap": 128,
    "segmentation_method": "fixed",
    "top_k": 10,
    "ground_truth_top_n": 5,
    "query_strategy": "first_tokens",
    "colbert_model": "bert-base-uncased",
    "max_token_length": 512,
    "use_faiss_optimization": true,
    "summarization_model": "google/bigbird-pegasus-large-arxiv",
    "gen_max_tokens": 512,
    "out_dir": "results/colbert_benchmark",
    "cache_dir": "cache/colbert_benchmark"
  },
  "aggregated_stats": {
    "colbert_model": "bert-base-uncased",
    "num_documents": 17,
    "total_tokens": 512559,
    "total_chunks": 1400,
    "avg_tokens_per_chunk": 366.11357142857145,
    "mean_recall_at_1": 0.058823529411764705,
    "mean_recall_at_5": 0.21176470588235294,
    "mean_recall_at_10": 0.3647058823529412,
    "mean_recall_at_20": 0.3647058823529412,
    "mean_mrr": 0.41699346405228754,
    "mean_retrieval_latency_ms": 124.2604679428041,
    "mean_index_size_mb": 88.44727258121266,
    "mean_downstream_rouge_l": 0.2153859486202834,
    "mean_downstream_bertscore": 0.8369040173642776
  },
  "per_document": [
    {
      "doc_idx": 0,
      "colbert_model": "bert-base-uncased",
      "num_chunks": 74,
      "num_tokens": 27828,
      "tokens_per_chunk": 376.05405405405406,
      "gt_top_n": 5,
      "top_k": 10,
      "gt_valid": true,
      "recall_at_1": 0.2,
      "recall_at_5": 0.4,
      "recall_at_10": 0.4,
      "recall_at_20": 0.4,
      "mrr": 1.0,
      "retrieval_latency_ms": 102.10822900990024,
      "index_size_mb": 81.63406372070312,
      "downstream_rouge_l": 0.30075187969924816,
      "downstream_bertscore": 0.8590618968009949,
      "total_latency_s": 4.954665899276733,
      "gpu_peak_gb": 2.5787482261657715
    },
    {
      "doc_idx": 1,
      "colbert_model": "bert-base-uncased",
      "num_chunks": 82,
      "num_tokens": 30760,
      "tokens_per_chunk": 375.1219512195122,
      "gt_top_n": 5,
      "top_k": 10,
      "gt_valid": true,
      "recall_at_1": 0.0,
      "recall_at_5": 0.0,
      "recall_at_10": 0.0,
      "recall_at_20": 0.0,
      "mrr": 0.0,
      "retrieval_latency_ms": 127.45799901313148,
      "index_size_mb": 90.23515319824219,
      "downstream_rouge_l": 0.15141955835962145,
      "downstream_bertscore": 0.8084869384765625,
      "total_latency_s": 9.516293048858643,
      "gpu_peak_gb": 3.6363701820373535
    },
    {
      "doc_idx": 2,
      "colbert_model": "bert-base-uncased",
      "num_chunks": 71,
      "num_tokens": 25941,
      "tokens_per_chunk": 365.36619718309856,
      "gt_top_n": 5,
      "top_k": 10,
      "gt_valid": true,
      "recall_at_1": 0.0,
      "recall_at_5": 0.0,
      "recall_at_10": 0.2,
      "recall_at_20": 0.2,
      "mrr": 0.1111111111111111,
      "retrieval_latency_ms": 86.33854999789037,
      "index_size_mb": 76.0985221862793,
      "downstream_rouge_l": 0.22053231939163498,
      "downstream_bertscore": 0.8587528467178345,
      "total_latency_s": 5.848531723022461,
      "gpu_peak_gb": 3.5769448280334473
    },
    {
      "doc_idx": 3,
      "colbert_model": "bert-base-uncased",
      "num_chunks": 84,
      "num_tokens": 29270,
      "tokens_per_chunk": 348.45238095238096,
      "gt_top_n": 5,
      "top_k": 10,
      "gt_valid": true,
      "recall_at_1": 0.0,
      "recall_at_5": 0.2,
      "recall_at_10": 0.4,
      "recall_at_20": 0.4,
      "mrr": 0.2,
      "retrieval_latency_ms": 118.01797000225633,
      "index_size_mb": 85.86425018310547,
      "downstream_rouge_l": 0.1872340425531915,
      "downstream_bertscore": 0.8500838279724121,
      "total_latency_s": 3.1902408599853516,
      "gpu_peak_gb": 3.5610909461975098
    },
    {
      "doc_idx": 4,
      "colbert_model": "bert-base-uncased",
      "num_chunks": 96,
      "num_tokens": 35878,
      "tokens_per_chunk": 373.7291666666667,
      "gt_top_n": 5,
      "top_k": 10,
      "gt_valid": true,
      "recall_at_1": 0.0,
      "recall_at_5": 0.4,
      "recall_at_10": 0.8,
      "recall_at_20": 0.8,
      "mrr": 0.3333333333333333,
      "retrieval_latency_ms": 139.64350800961256,
      "index_size_mb": 105.2489242553711,
      "downstream_rouge_l": 0.24516129032258066,
      "downstream_bertscore": 0.8433957695960999,
      "total_latency_s": 4.472797393798828,
      "gpu_peak_gb": 3.5872855186462402
    },
    {
      "doc_idx": 5,
      "colbert_model": "bert-base-uncased",
      "num_chunks": 88,
      "num_tokens": 25270,
      "tokens_per_chunk": 287.15909090909093,
      "gt_top_n": 5,
      "top_k": 10,
      "gt_valid": true,
      "recall_at_1": 0.0,
      "recall_at_5": 0.0,
      "recall_at_10": 0.0,
      "recall_at_20": 0.0,
      "mrr": 0.0,
      "retrieval_latency_ms": 104.57400602172129,
      "index_size_mb": 74.1302719116211,
      "downstream_rouge_l": 0.1209439528023599,
      "downstream_bertscore": 0.7492801547050476,
      "total_latency_s": 7.925842523574829,
      "gpu_peak_gb": 3.1714272499084473
    },
    {
      "doc_idx": 6,
      "colbert_model": "bert-base-uncased",
      "num_chunks": 72,
      "num_tokens": 27508,
      "tokens_per_chunk": 382.05555555555554,
      "gt_top_n": 5,
      "top_k": 10,
      "gt_valid": true,
      "recall_at_1": 0.2,
      "recall_at_5": 0.4,
      "recall_at_10": 0.4,
      "recall_at_20": 0.4,
      "mrr": 1.0,
      "retrieval_latency_ms": 228.33568099304102,
      "index_size_mb": 80.69532775878906,
      "downstream_rouge_l": 0.1810344827586207,
      "downstream_bertscore": 0.84735506772995,
      "total_latency_s": 3.302342414855957,
      "gpu_peak_gb": 3.5610909461975098
    },
    {
      "doc_idx": 7,
      "colbert_model": "bert-base-uncased",
      "num_chunks": 98,
      "num_tokens": 37290,
      "tokens_per_chunk": 380.51020408163265,
      "gt_top_n": 5,
      "top_k": 10,
      "gt_valid": true,
      "recall_at_1": 0.0,
      "recall_at_5": 0.2,
      "recall_at_10": 0.4,
      "recall_at_20": 0.4,
      "mrr": 0.3333333333333333,
      "retrieval_latency_ms": 144.52344900928438,
      "index_size_mb": 109.39104461669922,
      "downstream_rouge_l": 0.3516483516483516,
      "downstream_bertscore": 0.8933590650558472,
      "total_latency_s": 1.2003374099731445,
      "gpu_peak_gb": 3.5257205963134766
    },
    {
      "doc_idx": 8,
      "colbert_model": "bert-base-uncased",
      "num_chunks": 86,
      "num_tokens": 27374,
      "tokens_per_chunk": 318.30232558139534,
      "gt_top_n": 5,
      "top_k": 10,
      "gt_valid": true,
      "recall_at_1": 0.0,
      "recall_at_5": 0.0,
      "recall_at_10": 0.4,
      "recall_at_20": 0.4,
      "mrr": 0.125,
      "retrieval_latency_ms": 116.41904298448935,
      "index_size_mb": 80.3023452758789,
      "downstream_rouge_l": 0.25446428571428575,
      "downstream_bertscore": 0.838598906993866,
      "total_latency_s": 9.646831750869751,
      "gpu_peak_gb": 3.636385440826416
    },
    {
      "doc_idx": 9,
      "colbert_model": "bert-base-uncased",
      "num_chunks": 73,
      "num_tokens": 29143,
      "tokens_per_chunk": 399.2191780821918,
      "gt_top_n": 5,
      "top_k": 10,
      "gt_valid": true,
      "recall_at_1": 0.0,
      "recall_at_5": 0.0,
      "recall_at_10": 0.2,
      "recall_at_20": 0.2,
      "mrr": 0.16666666666666666,
      "retrieval_latency_ms": 99.7259900032077,
      "index_size_mb": 85.49161148071289,
      "downstream_rouge_l": 0.23974763406940064,
      "downstream_bertscore": 0.851209819316864,
      "total_latency_s": 4.18419337272644,
      "gpu_peak_gb": 3.589231014251709
    },
    {
      "doc_idx": 10,
      "colbert_model": "bert-base-uncased",
      "num_chunks": 107,
      "num_tokens": 34870,
      "tokens_per_chunk": 325.8878504672897,
      "gt_top_n": 5,
      "top_k": 10,
      "gt_valid": true,
      "recall_at_1": 0.0,
      "recall_at_5": 0.2,
      "recall_at_10": 0.6,
      "recall_at_20": 0.6,
      "mrr": 0.3333333333333333,
      "retrieval_latency_ms": 124.53471499611624,
      "index_size_mb": 102.29203796386719,
      "downstream_rouge_l": 0.3058823529411765,
      "downstream_bertscore": 0.8388922214508057,
      "total_latency_s": 9.931522607803345,
      "gpu_peak_gb": 3.636385440826416
    },
    {
      "doc_idx": 11,
      "colbert_model": "bert-base-uncased",
      "num_chunks": 72,
      "num_tokens": 26037,
      "tokens_per_chunk": 361.625,
      "gt_top_n": 5,
      "top_k": 10,
      "gt_valid": true,
      "recall_at_1": 0.2,
      "recall_at_5": 0.6,
      "recall_at_10": 0.8,
      "recall_at_20": 0.8,
      "mrr": 1.0,
      "retrieval_latency_ms": 105.64853699179366,
      "index_size_mb": 76.38014602661133,
      "downstream_rouge_l": 0.20055710306406688,
      "downstream_bertscore": 0.7991335391998291,
      "total_latency_s": 5.440330743789673,
      "gpu_peak_gb": 3.5892891883850098
    },
    {
      "doc_idx": 12,
      "colbert_model": "bert-base-uncased",
      "num_chunks": 70,
      "num_tokens": 26954,
      "tokens_per_chunk": 385.0571428571429,
      "gt_top_n": 5,
      "top_k": 10,
      "gt_valid": true,
      "recall_at_1": 0.0,
      "recall_at_5": 0.0,
      "recall_at_10": 0.2,
      "recall_at_20": 0.2,
      "mrr": 0.125,
      "retrieval_latency_ms": 105.38524101139046,
      "index_size_mb": 79.07015228271484,
      "downstream_rouge_l": 0.20224719101123598,
      "downstream_bertscore": 0.8409175276756287,
      "total_latency_s": 9.099697828292847,
      "gpu_peak_gb": 3.636385440826416
    },
    {
      "doc_idx": 13,
      "colbert_model": "bert-base-uncased",
      "num_chunks": 91,
      "num_tokens": 36610,
      "tokens_per_chunk": 402.3076923076923,
      "gt_top_n": 5,
      "top_k": 10,
      "gt_valid": true,
      "recall_at_1": 0.2,
      "recall_at_5": 0.6,
      "recall_at_10": 0.6,
      "recall_at_20": 0.6,
      "mrr": 1.0,
      "retrieval_latency_ms": 137.27728600497358,
      "index_size_mb": 107.39620971679688,
      "downstream_rouge_l": 0.20967741935483872,
      "downstream_bertscore": 0.8405137062072754,
      "total_latency_s": 1.0467159748077393,
      "gpu_peak_gb": 3.5257205963134766
    },
    {
      "doc_idx": 14,
      "colbert_model": "bert-base-uncased",
      "num_chunks": 65,
      "num_tokens": 25578,
      "tokens_per_chunk": 393.5076923076923,
      "gt_top_n": 5,
      "top_k": 10,
      "gt_valid": true,
      "recall_at_1": 0.0,
      "recall_at_5": 0.0,
      "recall_at_10": 0.2,
      "recall_at_20": 0.2,
      "mrr": 0.1111111111111111,
      "retrieval_latency_ms": 105.93649299698882,
      "index_size_mb": 75.03361511230469,
      "downstream_rouge_l": 0.1757469244288225,
      "downstream_bertscore": 0.8308762311935425,
      "total_latency_s": 9.51407241821289,
      "gpu_peak_gb": 3.6525778770446777
    },
    {
      "doc_idx": 15,
      "colbert_model": "bert-base-uncased",
      "num_chunks": 101,
      "num_tokens": 36827,
      "tokens_per_chunk": 364.6237623762376,
      "gt_top_n": 5,
      "top_k": 10,
      "gt_valid": true,
      "recall_at_1": 0.0,
      "recall_at_5": 0.2,
      "recall_at_10": 0.2,
      "recall_at_20": 0.2,
      "mrr": 0.25,
      "retrieval_latency_ms": 145.32542598317377,
      "index_size_mb": 108.03285598754883,
      "downstream_rouge_l": 0.1847826086956522,
      "downstream_bertscore": 0.8264901638031006,
      "total_latency_s": 4.701662302017212,
      "gpu_peak_gb": 3.557227611541748
    },
    {
      "doc_idx": 16,
      "colbert_model": "bert-base-uncased",
      "num_chunks": 70,
      "num_tokens": 29421,
      "tokens_per_chunk": 420.3,
      "gt_top_n": 5,
      "top_k": 10,
      "gt_valid": true,
      "recall_at_1": 0.2,
      "recall_at_5": 0.4,
      "recall_at_10": 0.4,
      "recall_at_20": 0.4,
      "mrr": 1.0,
      "retrieval_latency_ms": 121.17583199869841,
      "index_size_mb": 86.30710220336914,
      "downstream_rouge_l": 0.12972972972972974,
      "downstream_bertscore": 0.8509606122970581,
      "total_latency_s": 2.6409878730773926,
      "gpu_peak_gb": 3.52669095993042
    }
  ]
}